package aoc
package y2025

import scala.annotation.tailrec

object Day4:
  def solve(input: String): Int =
    val grid = input.linesIterator.toVector

    (for
      y <- grid.indices
      x <- grid(0).indices
      coord = Coord(x, y)
      if '@' == grid(coord) && Direction.values.count(d => grid.get(coord + d.direction).contains('@')) < 4
    yield ()).size

  def solve2(input: String): Int =
    val grid = input.linesIterator.map(_.toCharArray()).toArray

    @tailrec def loop(grid: Array[Array[Char]], acc: Int = 0): Int =
      var n        = 0
      val nextGrid = Array.fill(grid.size, grid(0).size)('.')
      for
        y <- grid.indices
        x <- grid(0).indices
        coord = Coord(x, y)
      do
        nextGrid(coord) =
          if '@' == grid(coord) && Direction.values.count(d => grid.get(coord + d.direction).contains('@')) < 4 then
            n += 1
            '.'
          else grid(coord)
      if nextGrid.flatten.sameElements(grid.flatten) then acc else loop(nextGrid, acc + n)

    loop(grid)

  val input =
    """@.@.@@@@@@@..@@@.@@.@.@..@@.@.@@@....@.@@@@.@@@@@@.@@.@@@..@..@.@@.@@@@@@@.@...@@@@@@....@@@@@@@.....@.@..@...@@.@@@@@@@@@.@@@..@@@.@..@@@@
      |@@@..@@@@@@@@..@@@.@@@.@@@@.@@@@@.@.@@@@@.@@......@.@.@@...@@@@.@@.@@.@@@@@@.@@@.@..@@@@@@@@@@@@@@@.@.@@@.@@@.@.@@@....@@@@@.@.@..@.@...@.@
      |@.@@@@@....@.@@@.@@@@..@..@@.@@.@...@@.@.@@@.@.@@@.@@...@.@@..@@@.@..@.@.@...@@..@@@@@.@.@..@.@.....@@@@.@@@@..@@@@@..@@..@@@@@@@@@@@@.@@@@
      |.@@.@.@..@@.@@@....@@...@@@..@@.@@.@@..@@...@@.@@..@@@.@@@.@@@.@@..@@@.@..@.@@@@@@.@@@.@.@@@@@..@@.@@@@....@@@.@.@.@@@.@@.@@@.@@@@......@.@
      |@@.@.@@@.@..@@@..@@@.@.@.@..@..@@.@.@@@@@@.....@@@@@@@@.@@@...@@.@.@@@@@@@.@@@@@@@..@@@.@@@@@@@@@.@.@@...@..@@@@@@@...@@@...@@@.@@@@@@@@@@.
      |..@@..@.@@.@@@@@.@@@...@@@@@@...@@@@@....@.@@@@@@...@@@@@@@.@.@@@@@.@.@@@@.@@@..@@...@@@@@@@@.@.@...@@@..@@.@@@@@@@.@@.@.@@@.@@@@.@@..@.@.@
      |@@@...@@@@@@@@@..@@@@@@..@@.@@.@@@@.@.@.@@.@....@@@@@@@@@@..@@@@.@@@@@.@@@@@@@@@@@@.@.@.@@@.@.@@@@.@@@@@@..@.@@.@.@@@@@@@.@@..@.@.@.@..@@@@
      |.@@.@.@.@@@.@@@@@.@@.@@@@@@@@.@@@.@@@@@@@@@...@..@@@...@.@@..@@@.@@..@@@@@.@..@...@@@.@.@@@.@@.@.@@...@.@@.@.@@...@@@@@@@..@@@.@@.@@@@@@@@@
      |@..@@.@.@.@@@.@.@..@@.@@@.@@@.@.@@@@@..@@@@@@@.@.@.@...@@..@@..@@@@..@...@@.@@@@@..@@.@...@@@@.@.@@@@@.@.@..@@@..@@@@@.@@@.@@..@@@..@@@.@@@
      |@@@@@@@@@@..@@...@.@@@.@@@@@@.@.@@@..@...@@.@@....@@...@@.@@@@@@@@.@@@.@@.@.@.@@@@..@@@@@@..@@.@...@@..@.@@..@@@@@@.@..@.@.@.@@@@@@@@@..@@.
      |..@@.@@@@.@.@@@@@@.@.@..@@@@@@.@@...@@.@.@.@@@@@@@@@@@@@@.@@@@.@@@.@@...@@..@.@@@@@@@.@.@@@.@..@..@@.@@.@@.@@@@.@@...@@@@.@@@@@@@.@..@...@@
      |.@.@@....@@@@@.@@.@..@@@@@@@@@@@@@.@@@..@.@..@..@..@.@@@@@.@@.@.@@.@@@@@@.@@@.@.@.@@.@.@@.@@@@.@..@@@@@@@.@@@@@@@@@@@.@@@@@@.@.@@@...@@@@@@
      |@@.@.@.@@.@..@@.@@@@@.@@..@@@@@.@@@...@@@.@@.@@@@@.@@@@..@@.@..@.@@@.@@.@@@@@@@@@@@.@@@@@@.@.@@@@@@@..@.@@@..@@@@@.@.@..@.@@@.@@..@@.@@@.@@
      |.@@@.@@..@@..@.@@@@@.@.@.@@@@..@@@@@@.@@@@@@@.@.@@@@@.@@@@@.@.@@@@@@.@@@.@...@@.@@@.@..@@@@@@@.@@.@@.@@.@@.@@@@.@@@.@@..@.....@.@@..@@.@.@@
      |@@@@@..@...@.@@@@.@@@@...@@@.@..@..@@.@..@..@@@...@@@..@@.@.@@@.@@@@@..@@.@@@..@@...@.@@.@@@@@@...@@@.@@@@@@@@.@@.@@..@@@@@.@@@@@....@@@@@@
      |@@@@....@@@....@@@..@.@@@..@@.@@@@@.@@@@@@..@@@.@@.@@.@.@@@.@@@@@@@@.@..@@@@@@.@.@@@@.@@@..@@@@.@@..@..@.@@.@@.@..@@@@.@.@..@@@..@@@@@..@..
      |@@@@..@@@@@.@.@@.@.@@@@..@@.@..@@.@@.@@@..@.@@.@@.@@.@.@@@@@.@@.@@@@....@.@@..@@@@.@@.@@@.@@@@..@...@@.@@..@@@@@@.@.@@..@.@@@@@@@@.@..@@@@@
      |.@@....@.@...@..@@@@@....@@@@.@@@@.@@@.@@@.@....@.@@.@@.@.@@.@..@..@@@@@.@@@@@@@@..@@.....@...@@@@@.@.@@@@@.@@..@@.@@@@@@@.@..@.@...@..@...
      |.@..@.@@..@....@@@@.@@.@..@@@@.@@@@@@.@@@..@@@@@@@@.@@@@@@@@.@@@@@@@..@.@.@@@@@@..@...@.@@.@@@@@..@..@.@@@.@.@@@@@@@@@.@.@.@@@@@@.@@@@.@..@
      |.@@...@@@@@.@@@@@@@@..@@.@@.@@@@.@@.@@@..@@...@@.@@@@.@@@.@@@.@@@@@@@..@.@..@@.@@@@@.@@@.@..@..@@.@@@@@@@@@.@.....@@@@.@@@.@.@@@..@@@..@@@@
      |@.@@@@...@@@@@@@@..@@@.@.@@@@@.@@.@...@@.@@@@@@@@@@@@@@@@@.@...@@@@.@.@.@@.@@..@.@@@@@@@@@@...@...@.@@@.@@@.....@@@@@@.@@@.@.@@.@@@.@.@.@@@
      |.@.@@@@@@.@..@@@..@@@...@@..@..@@@@@@@.@@@@@@@@@@@@...@..@.@.@@@@@.@@@@@@.@@@@@@@@@@@..@@.@@@@@@@@@@@@.@@@.....@.@..@.@@.@.@@@@@@.@..@.@@.@
      |@@...@@@@@.@.@@@@.@@@@.@@.@@@@.@..@@..@.@@.@@@@@@@@..@@.@@@@@.@@@@@.@@..@@@@@@@..@@@.@@@@.@.@@...@@@@.@@@@.@.@.@@@.@.@..@.@...@@.@@@@@.@@..
      |.@.@@@@@..@.@@.@@@@@@@@.@.@..@@.@.@..@@@@@@@@@@.@.@@@@@@@....@@....@@..@..@@.@@.@@.@@@@@...@..@@.@@@@..@..@.@.@@@..@.@@@.@@@@@@...@.@@@@.@@
      |@..@@@@@@.@@..@@@@@@....@@@@@.@@@.@@@.@@@.@@@........@.@@.@..@@@.@@@@@@@..@.@@@@@@.@@@.@@.@..@.@.@.@@.@.@@@@..@.@@.@@@@..@@@@@@@@@..@@.@@.@
      |.@.....@...@@.@.@@@@.@@@@.@@..@.@@@.@.@@.@@@.@..@@@@@@.@@.@.@.....@@@.@@@@@.@@@@..@@.@@.@@.@@@@.@@.@@.@@@..@..@@@@.@.@@@@@@..@.@@@..@.@@.@@
      |@@.@.@..@@.@.@@.@@...@@@@@.@@...@...@@@@@@.@..@@@@@@@@..@.@@@@@@@@@@.@@@..@@.@.@@...@.@.@@..@.@.@.@@..@...@@@...@@@.@.@@.@..@@@@@...@@@@@@@
      |.@...@@@.@@.@@@@@.@...@@@.@.@@@@@..@..@@@.@.@@@@@@...@.@@@@@@@@@@@@.@@@@@.@@@@@.@.@@@.@@@@@@@@@@@@@@@@@...@@@@@@.@@@@@@@@@.@.@.@@@@@..@..@@
      |.@.@...@@@@.@.@@@...@.@@@....@@...@.@@@@....@.@.@@@.@@@.@..@@@..@.@.@@@@@@@@.@@@@@...@@.@.@@@.@.@@@.@@@@@@.@.@@@@.@@@@@@..@.@@.@@@@.@@@@@@@
      |..@@@.@@@@.@.@@.@..@.@@.@@@@@.@@@@@@.@..@..@@.@@.@.@@...@@@@@@.@@@@@@@@@.@@@@.@...@@@.@@.@@@@@.@...@.@@@@@@@@.@@@@.@@.@..@@@.@@@@..@@@@@...
      |.@@@@@@@@@.@.@.@@.@@.@.@..@@.@@@@@.@@@..@@@@@@...@@@@@...@..@@..@@@@.@@.@.@@@@..@..@@@@@@@.@.@..@@..@..@.@@@@@@@@.@.@@@@@@.@@@.@@@@@..@@@@.
      |@.@@.@.@.@@@.@@@..@@@@@@@@@@@@@@@@@@@@.@.@@.@.@@@..@@@.@@.@@@.@@.@@@@@..@@.@..@@.@@@.@.@.@@@.@@@..@.@@...@@..@@@..@@@@@..@.@.....@@@@@@@@@@
      |@.@.@.@@@@.@@@.@@@.@@@@..@@...@@@@@@..@@@..@@@@@...@@@@@.@.@@.@@@@.@..@@@..@@@@.@@@.@@.@@@@@.@...@..@@@@@@.@@.@..@....@@@@@@@@@@@@..@@.@.@.
      |...@@@@@.@..@@@@@@@.@@....@@.@@.@@@..@..@@@@@@.@.@..@..@@@@@..@.@@@@@.@.@@.@@.....@@@@.@@@...@@.@.@@.@@@@....@.@@..@@@@@@.@...@.@@@..@..@.@
      |@@@.@@@.@@.@@@@.@..@@@@@.@.@..@.@.@.@@.@@@@..@@@@.......@@@@@.@..@@.@....@@@......@.@@.@@@...@..@@@@..@.@@@@@.@.@.@@.@@.@@.@@.@..@....@@.@.
      |.@@@@@@@.@@.@.@.@@@@.@@.@.@..@.......@@@.....@@@.@.@.@.@@..@@...@@@.@@@@.@@.@..@@@.@@@.@@@@@@@..@@@@@@@@@.@@@.@@@@.@@.@@.@.@@@..@@@@@@@@.@@
      |.@.@@@@..@.@.@@....@@..@@@@@@.....@@..@.@@.@@@.@@@@@@.@@@.@@@.@..@@.@@@@@@...@@.@@@@@@.@.@.@.@@@...@@@@...@.@.@@@..@@@@@.@.@.@.@@@@@.@.@@@@
      |.@.@..@@..@@@...@@@@.@.@@..@.@.@@@..@.@@@@@@..@@@@@@@.@@@@.@@@@@@@.@@.@..@@.@@@...@.@.@....@.@@@@@@..@.@.@@.@@@..@@..@@@@@@@@@.@@@@..@@..@.
      |.@.@@...@..@.@@.@..@..@.@@@@@@@@..@.@..@@...@@@...@@@@..@.....@@@...@@.@@.@@@@@@@@@.@.@@.@@.@@@.@@.@@@.@.@.@@..@@@.@.@.@@.@@..@@@...@@@@@@@
      |.@.@@...@@.@..@@@@@.@..@@@.@@@.@@@@@@.@.@@.@.@.@@.@@@@@.@@.@@@@..@@.@.@.@@@@@.@@@.@@@@.@..@.@.@@@..@.@..@.@@...@@@...@@@@@@@@@@@.@@.@.@@.@@
      |@@@.@..@@@@@@@.@@.@@.@@@@@@@.@@@@.@@.@@@@..@@@@@@@...@..@@@.@@.@@@@.@@..@...@.@@.@.@..@@@..@..@.@..@@.@@.@@@@@@.@@@.@@@@@@.@..@...@@@@.@@@.
      |@@@.@@.@@@.@@..@.@@@@@@.@@.@..@@@@...@@.@.@.@@.@@@.@.@.@@@..@@@@@.@@@@..@@.@@@.@@@@@.@.@.@@@@@.@@...@@@@.@@@.@@@.@...@@@@.@...@@@.@@@@...@.
      |@@..@@.@.@@@....@@@@@@@.@.@@@@@.@.@....@@@..@@@.@@@@.@..@.@@@.@@@....@@@@@@@.@@..@@.@@..@.@@@@.@@@@.@@.@.@@@@@..@.@.@@..@@.@.@@.@@@.@@@@@@@
      |@@...@@@@@@@@.@@@.@.@@.@..@@@@.@@@@.@@..@.@@@@@@@@@.@.@..@..@@.@@@@@@@@...@@..@@@@....@..@@@.@@.@@..@@.@@.@@@...@.@@.@@@@@..@@@@...@@..@..@
      |.@.@.@@.@@@.@@@@@..@@..@.@..@@@..@.@.@..@..@@@@@.@@.@.@@@......@@@.@@@.@.@@@@@@@@...@@@@@.@@@@@.@@@.@@@.....@@@@@.@@.@.@@@.@@..@@.@.@@..@@@
      |@..@.@@@@@@...@@@..@@@@@@@.@@@@.@@@..@@@@@.@@@.@.@@@@.@@@.@..@.@.@.@@@..@@@.@.@@@@.@.@@@.@.@@@@.@@@@.@..@..@@@.@@...@@@@@@.@...@@@..@@.@@@@
      |..@.@.@@@@..@..@.@@@@@@...@@.@...@@@@@@.@.@@@@.@@.@@@@.@@.@@@@@@@@@.@@@@.@@@..@@.@.@.@@.@.@..@.@@.@@.@@@.@.@..@@@@...@@.@..@@@.@@@.@.@..@@@
      |..@@.@@.@.@.@.@@@@.@@.@.@@.@@@.@@@.@@@@@@@@@@@@.@.@.@.@@@@.@@@@@@@...@@.@.@@@.@@@@@@...@@@.@@..@@.@@@@..@@.@.@@@@@@@@@@@@@@.@.@@@..@@@@@@.@
      |@@@@@@@.@@@@...@.@@.@.@@@@.@@@..@..@..@.@@@..@.@....@@..@.@@@@.@.@.@@@@@.@@.@@@.@.@@@@@@....@.@.@@.@..@@@.@@.@@@@@@@.@.@@@@..@@@@..@..@@@@@
      |@@.@@@@@.@@@@@@@.@...@@.@@.@@@@.@@@@.@@.@@.@@@...@@..@@@@@..@...@@@.@...@.@..@.@.@@@@@.@@@@.@@@@@@@@@@@.@@@.@.@@@@@@@@@@@@@@@@@@@..@@.@@@.@
      |...@@@@@@.@@.@@@.@@....@@@@.@@@.@.@@@@@@@@@@.@@.@.@@@@....@@..@@@@....@@@.@@@@@@.@...@.@@@..@@@@@@.@@...@@.@@.@.....@@@@.@.@@@...@..@.@@@@@
      |@@.@@@@@@.@.@@...@@@@@@@.@@.@@@@@@@@...@@@.@@.@.@@@@@@@@.@@.@..@..@.@@.@@.@@@@..@..@@@@@.@@@@@@.@.@@.@.@.@@.@..@..@@@@@@.@@.@@@@@@@.@.@@.@@
      |..@@@.@.@.@...@.@@@@@@@.@..@@@.@@@@@@@@.@..@@@@..@@.@@@@.@@...@@..@@@@.@@@.@@@.@.@.@..@@@@@@.@.@@@@@@@@@@@@@.@...@@@@@.@@@@.@@.@@.@@@..@@@.
      |@@@@@@.@@@@@@...@@.@@@@@@@@@@@@@..@@..@@@@@@.@.@@.@@......@@@@..@@@@@@.@@@@.@@.@...@..@@@.@@@@@@.@@@@..@..@@@@@@@@.@.@.@..@.@@@...@..@.@..@
      |..@...@.@@@@..@@.@.@.@@@@.@@.@@..@@@@@@@@@...@@.@@...@@......@@@.@@...@@@@...@@@@@@@@..@..@.@@.@@@.@.@@@@@@..@@@@@@@@@@@..@..@.@.@@...@@.@@
      |@.@@...@..@.@..@@@.@@@@.@@@..@@.@@@@@@@@@.@@@@@@.@.....@@@.@@@@@@@.@@@@@.@@..@.@.@@....@.@@@@@.@.@@@@@@@@@...@...@@@@@@.@..@..@@..@..@@@@@@
      |...@@@@.@@@.@@@...@.@@@@@..@@@@@.@.@@@.@@@@@@@@@.@@@.@@@@@@@@.@@.@.@@@@.@@@..@@@@@.@.....@@.@@.@@..@@@@@...@@@@@@@@@@@.@.@.@..@@@@.....@@@@
      |..@@@.@@@@@@..@.@@.@.@@..@@@@@@@@@@@@..@@@.@@@@.@@.@.@@.@@.@@@@@.@.@@.@@.@.@@.@.@@.@.@@@..@.@..@@...@@@@@@.@@@@@@@..@..@@...@@@@.@@@.@@@@@@
      |@@@@@@@.@@@@@@@.@.@@.@@...@@@.@.@..@.@@.@...@@.@@..@.@..@@.@@..@.@@@.@@.@..@.....@@@@.@..@@@.@@@@@@.@@....@@@@..@.@@..@@@@@@@@@@@.@..@@@@..
      |..@..@@.@@.@@@@@@...@@@@@@.@@@@@.@@@@@@.@.@@.....@@.@@.@.@@@@@@.@@@..@@..@@@@@@...@@@@@.@.@..@@@@..@@@@.@@@...@@.@@@@@@@.@@@..@.@@@@@.@.@.@
      |.@.@..@@@@.@@@@@.@@@@@@.@@.@@.@@@.@...@.@@@....@@@..@@@@.@@@.@@@@@@@@.@@@.@.@..@.@@@.@@.@@@.@@@@@.@..@...@.@@@..@...@@.@@@@@@@..@@@@@@@@@..
      |@.@.@....@@@..@@.@@@@.@@.@@@.@..@@.@..@@@@..@.@@.@@@@.@.@@@@@@@..@@@@@..@.@.@.@@....@.@...@.@@@@@@@@@.@@@@@@.@@@@@@@...@.@@@.@@@@@.@@@..@..
      |.@@..@@.@.@@@@@..@.@.@@@@@@.@@.@@@..@@.@@..@@..@...@@@.....@@@@....@@.@.@@...@..@@@@@.@.@@@@@@@@@.@@@.@@@.@@@@.@@@.@.@@@@@@.@@@@@.@@@@.@@..
      |@.@@@.@@@.@@@.@.@@@@@@.@@...@@.@@@..@.@@@.@.@..@@..@.@@@.@@@.@@@@@@@@@@@@@@..@@@@@@@@.@@.@@@.@@@@.@.@@..@.@.@....@@@.@@@.@..@@@..@@@@..@.@.
      |..@@@@.@@@@@..@.@@..@.@.@.@@@.@.@@.@@.@@...@@@@@.@@@@@@.@@@.@@..@@..@@@@@@@@@@@@.@@..@@.@.@.@.@.@@..@@.@..@@@@@.@..@.@@...@@@....@@.@..@@@@
      |..@@@.@@.@.@@.@@..@.@@..@@@@@@@@.@@.@@@.@@.@@@@@.@@@.@.@@@.@@@@.@@.@@@.@@@@@@..@.@.@@@@@@.@@@@@....@@@@@@..@@@@@@@@@.@@@@@@....@@@@@@..@@.@
      |.@.@.@@@@@@...@@@@@.@@.@@@.@@@@@@@@@.@@@@@@@.@@@@@@@.@@@..@@.@@@@@...@.@..@@@@@@..@.@@..@.@.@.@@@@@@@.@@@@@..@@.@@@..@.@@...@@@@@.@@.@@@@@.
      |@.@@@.@...@.@@..@@@@....@@@.@.@@@.@@@@@@@@@@@.@@.@....@@@@@.@@.@@..@....@.@@..@@@@.@@@@.@@@.@@@@.@..@@@.@@@@...@.@@@@.@.@@.@@@.@@@..@.@....
      |@@..@@@.@.@@@@.@@@@@@@@.@..@@@@.@.@.@@..@@@@@@@@@@@@@@.@@@.@@@@@@..@@@@@@...@@.@@...@@@@@@.@.@@....@.@@@.@@@@...@@@@@@@@@@@@@@@@@..@@@@@@@.
      |@@..@@@.@.@@..@@@....@.@@@...@@@@@@.@@.@@.@@@.@@.@..@@.@@@.@.@@@@@@@@@@@@@..@@.@..@@.@.@@.@@@@@.@@@@...@@@@.@..@.@@.@@@.@@@..@@@@@@.@@@.@@.
      |.....@@@..@@@.@@.@@@@@@..@.@@@@.@@@@@@@@@@@@@@...@@.@@@@@.@.@@@@.@.@@.@@@@@@.@.@@@@.@@@.@@@@@@.@.@....@.@@@@@@@.@@@@.@@.@@@@.@@.@@@@@@@@.@.
      |@...@@@@@@..@@@@.@@@@@@@@.@@@@@.@@@....@.@.@@@..@..@.@.@@@@.@@@@.@...@.@..@@.@@.@.@@@@@@.@.@.@.@@@.@.@@@..@.@@@@@.@@@@@@@.@..@@@@...@.@.@@.
      |@.@..@...@@..@@.@@@.@@@@@@@@@.@...@@.@..@...@.@.@.@@@@.@@...@.@.@@..@@.@@...@@@@@@@@@@.@@@@..@@.....@@@@@@.@@...@@.@..@@@.@.@@@.@@@@@@@@.@.
      |@@@.@@@@.@@@@@@@@@@.@@@..@@.@@@@.@@@@@.@@@@@@@.@@.@@@..@@@..@@.@.@.@@@@@.@@@@@.....@@@@..@@@@@@.@.@@@...@@@@@@@.@@@.@@@.@@@@.@@@@@@.@@@@.@@
      |@@.@@@.@@@@..@@.@@.@.@@@@..@@@.@@@.....@.@.@...@@..@@@..@@@..@...@@@@@@@.@@..@.@@@@..@...@.@@@@@.@@@@@@...@@...@@....@@.@@....@@@@..@.@@@.@
      |@..@..@@@.@@@.@@@.@@.@.@@.@@.@@@.@@.@@@.....@@@@@@@@.@@@@.@.@@@.@.@@@..@..@.@..@@@@@@@@...@@@@@.@@@@@@@@..@@@@@.@@.@.@.@.@@....@.@..@@@..@@
      |@@@.@@@@@@..@@..@@@@.@@@@.@@@.@@.@@@@@..@.@@@@@.@..@.....@.@.@@@.@@@@...@@@.@@@@@@.@@.@@@.@..@..@.@..@.@@...@.@@@@@@@@@@@@@..@@@@..@....@.@
      |@.@..@.@..@@.@@..@@@..@@@.@@@@.@@@.@.@.@@@.@@@.@@.....@@@@@@@@@@@@@.@@...@@@..@@...@@@@@....@@@...@@.@@@@....@...@@@@@@@@@....@@@@@@@@.@@@@
      |@@@.@.@@@..@.@.@@@@@@@@@@@.@.@@@....@@.@@@@..@..@@@@@@.@...@..@..@@@..@@@@..@@.@@@..@.@@@.@...@@@.@.@@@@@@.@@.@.@@@@@.@..@@.@.@@@@@@@....@@
      |@@.@@@@@@@@@@@@@@.@.@@.@.@@@@.@@@@@@....@@@..@@@@@@..@..@@...@.@@@..@@@@@@..@@.@@...@.....@@.@@@.@@..@@@@.@.@@.@@@@@@@@..@.@@.@@@@@.@@@.@..
      |@.@@@.@.@@@.@@@@@@.@.@..@..@@@@.@@@@@@@@..@.@@.@.@..@.@@@@@@@@@@@@@..@.@..@@@@..@@@@@@@@@@@@.@@@@@@@.@@@@.@.@@@@.@...@..@@.@.@@..@@@.....@.
      |@@@.@.@.@....@@.@.@.@@@@@..@.@@@@@.@@@@@...@@.@.@@@.@...@@@.@@@@@@@..@@@.@......@@@@@@@@...@@@@@@@.@..@.@@@.@@@@...@@@@@...@.@@@..@.@@@@.@.
      |..@@@.@@@@@.@@.@....@..@@@@....@@@.@.@..@.@@@@@@@@@@@.@@@@@@.@@@@@..@.....@..@@@@@@@@@..@.@..@..@.@@@..@@@.@@...@.@@.@@@.@.@.@...@@@..@@@.@
      |@@@@.@@@@.@@@@.@@.@@@@.@@.@.@.@@.@@.@@@@@@.@.@@..@@...@@@..@@..@@@@@.@@@.@.@@..@.@@@@@.@@@@@.@@...@@..@.@.@.@.@@@.@...@@@@@.@@@@.....@@@@.@
      |@@@.@@@@@@@@@.@.@.@.@@@@@@@@@@.@@@@@@.@.@@@...@.@@....@@..@@@.@.@@@@@@.@@@@.@@..@@@@@@.@.@@..@@@@@.@.@@@@@@@@@@..@..@@..@.@@.@...@@.@@.@.@@
      |@.@@@.@@.@.@.@@@@.@@.@@@@.@@@@@@.@@.@.@..@...@..@..@@.@@..@@@..@@@@@@@@@@..@@@@.....@..@@@.@@.@@@@@@@@.@....@.@..@@@@@@@...@@@.....@...@@@@
      |@@@@@.@.@@.@....@@.@@@@@@@...@@..@@@@@@....@...@@@....@@@@.@.@@@@@@@..@@.@@@@@@@@@@@@..@@@..@@@@@@@.@@@...@@..@@.@@@@@.@@..@@@@@@@.@.@.@.@@
      |@@@@@@@.@@@...@.@@@@@.@@...@.@.@@.@@....@.@@@@@@@@@@...@@@@@@...@.@@@@@.@@@@@.@.@@@@@.@.@..@@@.@@@@@.@@@@....@@@..@@@@@@.@.@@.@.@@..@..@@.@
      |@.@@@@.@@@@@.@.@.@@@@@.@@.@@@@@..@@@.@@.@.@..@@.@.@@...@.@..@@.@.@.@..@@.@.@@@@@.@@.@@@@@.@..@.@@@.@@@@@@..@.@@@@@@@@@@.@@@.@@.@@.@@.@@.@.@
      |@@@@@@@@@@@.@@@@@....@@@@.@.@@@@@.@.@@@.@@@@@@@.@.@@.@@@.@..@@@.@@.@@@@@@@.@.@@@@..@@.@@.@@@.@.@@@@@.@@@.@@@@@@@..@@@.@.@@@@@.@@@@..@@@...@
      |.@@@@.@@.@.@.@.@@@...@@.....@.@.@@@.@@.@..@.@@@.@.@@..@@.@.@@@@@@@@@@@..@@.@.@@@@.@@.@@@.@.....@.@@@@.@.@.@@@.@@@@@@@@.@@@.@.@@@@@.@@@@.@.@
      |@@@@..@@@.@@@..@.@.@@@@@.@.@.@.@@@@@..@.@@@@@@@..@@@@@..@@@.@@@@.@@@@.@@.@.@@.@@..@@.@@@@@@@@..@@@@@.@.@@@.@.@.@@@.@@@@@@@@..@@...@.@@.@@.@
      |.@@@@@...@.@@@@@@@.@.@.@.@.@@@.@@@.@@.@@@.@@.@...@.@.@.@.@@.@@@......@@@....@.@@@@..@.@.@@@@@...@@@.@.@@@@@....@@@.@.@@@@@.@@@@.@@@@@@.@.@@
      |@@@@@@.@@@@@@.@@@@@..@@@@@@@@@.@@@@@@@.@.@@.@@.@@.@@@.@@.@@@@@@@@@@@@@@.@@..@@@.@@@@@@@.@...@@@...@@@...@.@@@...@@..@.@.@..@..@.@@@@@@@@@.@
      |.@@@@@@@@@@@..@.@@@.@...@.@@@@.@@..@..@.@.@.@.@@@.@@@@@.@@@..@@@@@@.@@@@.@.@@@@@@@.@@@.@@@.@..@@.@.@@@..@@@@.@@.@..@@@..@@@@@@.@@@@@@@.@@.@
      |@@@@@@@@....@@.@@@@.@.@@.@@...@@@@@@@.@@@@@@.@@@@@@...@@@@.@.@..@@@..@..@...@@.@@@..@.@@@.@@@.@@@@....@...@@@@@@@@@.@...@@@.@...@..@.@@@@.@
      |@@@@@@@.@@.@.@@@.@@@@@@@.@@@..@.@@.@@@@....@@@@@@@.@...@@@.@..@..@@@@.@.@@..@@@.@.@@@@.@@..@..@@.@@.@@.@.@.@@@..@@@.@.@..@@.@.@.@@..@@.@.@@
      |@.@@@@....@...@@.@@@@@.@@@@@@@.@@..@@@.@.@@.@@@@.@@.@@@.@.@.@@@.@@.@@.@@@@@.@.@@@@@@.@@@.@@@@@.@@.@@.@@@..@.@@.@..@.@.@@@@@@@...@@@.@@..@@@
      |.@@@..@@@.@@.@@.@@@....@@@@...@.@...@@.@@.@.@.@@..@@.@@@@@@@@@@@@@@@@@@@@...@@@.@.@@@..@@@@@.@@..@.@@@@@@@@.@.@@@@...@@.@.@@.@@@@@@@@@@@@.@
      |@.@@.@.@@@@@@@.@.@@@@@.@@@.@@@@@..@@@@.@@@@@...@.@@.@@@...@@@@@@.....@@@...@@..@@.@..@..@@@..@@@.@.@@.@@.@@.@@@.@@@@.@..@@.@.@@@.@@@@.@@@@.
      |@@@@@@...@@@@.@.@@@@.@@@@.@.@@@..@@@@@....@@@@@.@.@@.@@@.@...@@.@.@.@.@@.@.@.@@..@..@...@.@..@.@@@@@@.@..@.@..@.@@@.@@@@@..@@@@.@@@.@@@@@@.
      |.@@@@@@@.@@.@@.@@@..@@@@@@.@@@@@..@.@.@..@@@.@@.@..@@.@..@@@.@.@@@.@@@@.@@@@.@.@@@.@@.@@@..@.@@.@@.@.@@@@@@@@.@.@@@@@.@@.@@.@.@@@@.@@.@@@@@
      |@@.@...@@...@..@@@@...@@@..@@.@@@@..@.@..@..@.@@@@@@..@@..@.@@@@@.@@@.@....@.@@@@@@@@.@.@.@..@@@..@.@.@@.@@@@..@.@@.@@.....@.@@@@.@@@@.@@@.
      |.@@.@@@.@@@@@.@@...@.@...@@@.@.@.@@..@@@.@@@@@@@@@@....@.@@@@.@@@@..@@@@..@@..@@@@@.@.@@@..@@@.@.@.@@..@@.@@@.@@..@@@.@@@@..@@@@.@.@@@.@..@
      |.@@..@@@...@@@@.@..@@.@.@..@@.@.@@@@..@.@.@.@@@@@@@@.@@@@.@@..@.@@@@..@.@@@@@..@@.@@.@@@@@..........@@...@@.@@.@.@@@@.@@@.@.@...@@@@@@.@@@.
      |.@.@@@.@@.@@.@@.@@@@@@.@@.@@@@@.@@@..@@@@@.@@@.@@@@@.@@.@@@@@@@@@@...@...@.@..@@.@..@@.@@..@@.@@@.@....@..@@..@..@@@@.@.@@.@@.@@..@@@.@@.@@
      |.@@.@@@@@@.@@@@.@.@@@@.@@@..@@@.@.@@@.@@.@@@..@.@@@.@@@.@@.@.@..@@@@@..@@.@..@@@@@@@@.@..@@@@@.@@@@@@.@@@..@@@@....@@.@.@@@@@@@@.@@@@@@@@@@
      |@.@@@@@@@@@@@@@.@....@@@@@@.@.@@@@...@@@@@@@@@@...@@@@@.@.@@@.@@@@@@@@.@@@..@@@@.@@.@..@.@...@@@@@.@.@@@@.@@@@@..@@.@.@@@@@@@.@.@@.@@@.@@..
      |.@@@@@...@.@@.@.....@@@@@@@@..@@@@.@..@@@@..@@...@....@@.@.@@.@@.....@@@@@@@@@@@.@@.@@@..@@@.@@...@.@@...@@.@@.@@.@@@.@@.@.@@@@.@@@@@@@.@@@
      |.@@.@@@@@@@.@@@....@@.@@@@..@@.@@@@@.@@@.@@@@@..@@...@@@.@@.@@@.@@@@.@..@.@@.@@@.@@@@@@.....@@@..@@@@@@@.@@@.@.@..@@..@@@.@@@@@@.@@@@.@@..@
      |@@@@@@@@@@.@@@.@@@..@.@@@.@.@.@@@@@@....@@@..@@@...@@@@@@..@.@@....@@@@.@@@@@@.@@@@@@@@@@@.@@@.@@@@@@..@.@@...@.@.@@@.@@@.@@@@@@@..@.@.@@@@
      |@.@..@....@@@@@@....@@@.@@..@@@@.@@@@..@@@@@@@@.@@@...@@..@..@@@@@@@@@@..@@@.@@@@.@@@@..@.@.@..@..@@.@@@.@@.@@@.@.@@.@.@@@.@.@.@@@@@.@@@@@@
      |@@.@..@@@.@@..@.@..@@@.@@.@@.@.@.@..@@@@@@@@@@@@@@@@@@@@@@.@@.@.@@@@...@@@@...@.@@@@.@.@.@@..@@@@@.@.@@..@@.@@@.@@@.@@@@.@.@@.@@@@@@@..@@@.
      |..@@@@.@@.@.@.@.@.@@@@@.@@@.@@@@@@.....@@@@@.@.@@@.@@@@.@@@@@@@@@@.@@.@.@@@.@@@@.@@@@@@@@@@..@@.@@@@@@.@@@.@.@...@@@.@.@.@@@@@@@.@@..@@..@.
      |@@.@@.@@@@.@.@@@@...@.@@@@@@@@.@@@.@@@.@.@...@.@@@.@..@@@.@@@@@@@@.@@.@@@@.@.@@@........@@@@@@@.@@@@@.@@@..@..@@.@..@.@@@@.@@.@.@@...@@@@@.
      |@@.@.@.@.@@@@.@.@.@.@@@..@.@.@..@@.@@..@@@..@@.@@@@@.@@@@@..@@.@@@.@@.@@@@.@..@@@@@@.@@@@@@@@@@@...@@@.@@.@@@@.@..@@.@.@@.@@@@.@@@.@@.@.@..
      |@.@@...@.@@@@..@@@@@@@@@.@@.@@@@@@@..@@@@@@.@@@.@@@@@@@@@..@@@@..@@@@....@@@@...@.@@@.@@@@..@@...@..@.@.@@.@...@@@...@@@@@@@@@.@@@.@..@..@.
      |@@@.@.@.@@@@@@.@@@@..@.@@.@@..@@@@@.@@@@@@..@@@@.@@@@.@.@..@.@...@.@.@@@@..@.@@@.@@@.@@.@@@@@@..@@@..@..@@@..@@@.@.@..@@..@.@@@.@.@@@@@.@@@
      |.@@..@@.@@.@@@.@@...@@@.@@@.@@.@@.@@@@@@@@@@@@@@@.@@@.@@..@@@@@.@@@.@@@@..@@@@.@@@@@@@@@@@@.@@.....@.@.@..@@@@.@@@.@@@.@@@@@@@@@@@@@@.@@..@
      |.@@@.@@@@@.@.@@.@@.@@@@@.@@@....@@.@.@.@@.@.@..@@..@..@@@@@@.@@@@..@@@@.@@@@..@.@@.@@@.@@..@@@@@.@.@@@@@.@@..@@..@@@@..@.@@@@..@@@@@@.@@@..
      |..@@@@@@@@.@@.@.@@..@@.@@@@@@@@@@@@@.@@...@.@.@@@.@...@@.@..@@@@@@.@.@@@@@@@@@@@@@.@@@@@.@@@..@@@@.@.@@@@@@@@@@.@..@.@..@@@.@.@.@@.@@@@@@@.
      |.@...@@@.@@@..@@@@@@@@@.@.@...@@@@.@@.@..@@@@@@@.@@.@@@..@.@@.@..@@.@.@@@@...@@@@@@@.@@.@.@@@@@..@@@@@@@@@@@...@..@@@@@@.@@..@@@@.@@@.@...@
      |@.@...@@@.@.@@@@..@@.@@.@@@.@.@.@@@@@@.@......@@@@@.@.@@@.@@@@@@.@.@@@@@@@@@@@.@@@@@...@@@@...@@@..@..@.@.@@...@.@.@@@@@..@@@.@@.@@@..@@.@.
      |@@@@..@@.@.@@@@@.@@@.@@@.@@@.@@@.....@@@@@@@@.@..@@..@@.@.@@@.@.@@..@@@@..@@@@@.@.@@@@@.@@@..@.@..@@@@@...@@@@..@@.@@@@@@@@@@..@@@@..@..@@@
      |@..@.@@.@@.@@@.@@@@@.@@@..@.@.@..@@@@@@@@@@@...@@@@.@@@.@@@.@@@@@@@@.@@.@@@@@@@@.@@@@.@.@@@.@@@@@@.@@@@..@@@@@@@@.@.@..@@@@@@@@..@@@@@.@@..
      |@@@@@.@@@@..@.@@@@@@.@.@@@@@.@@@..@@@....@.@@..@@@@@@@@@.@@@@@@.@@@@.@@@@@.@@.@..@@@.@@@...@.@@.@...@@.@.@..@..@@.@@@@@@...@.@@.@@@@@@.@.@.
      |@@.@.@@@@@@.@@@.@@.@.@.@..@...@@@..@@.@@.@.@@@@@@@@.@..@@@@@@@@...@@@@.@@.@@@@.@...@@.@.@@@.@.@@@.@@@..@.@@@@..@@@@@.@.@@@@@@...@@@@@@@.@@@
      |@@@@@.@@@.@@@@.@.@@@.@@@@.@@.@@@..@@@@.@.@.@@@@@@@@@@@@@@.@.@.@.@@@@@....@.@@@@@.@@@.@@.@..@..@..@@..@.@.@.@@.@@@..@.@@@..@@@....@...@@@..@
      |@.@..@@....@.@@@@@..@@@.@@@@..@@@@@.@.@.@@@@@@@.@.@..@.@@@@.@@@@.@@..@@@..@@@.@@@...@..@@.@@@@@.@@@@@.@@@@@@@@@@..@@@....@@@@@.@@@.@@@@.@@@
      |@@@@@@@@.@@.@@@..@..@@@@@.@@.@.@@.@@@..@.@@@@..@@@@.@@@@@@...@@@@@@@@@..@@@..@@.@.@..@@@..@.@@@..@@@.@..@@....@@.@@@@.@@.@.@.@@@@@...@.@..@
      |@@.@@@@@.@.@.@......@.@.@@.@..@@@..@.......@@@@@.@@@.@.@@.@.@@@...@..@.@@@@@.@@@.@@.@@....@.@@.@@@..@@@.@.@.@@.@..@.@@@@.@@@..@@.@.@.@.@..@
      |@.@.@@..@@@.@@@@.@@@..@@.@..@@@@..@@.@@@@@@@..@.@@@@.@.@...@@@@@.@..@@@@@@@.@.@...@@@@@@.@@.@..@.@@.@.@@@@@..@@@.@@@.@@@@@@@.@@@@.@@@@@.@..
      |@..@@@@.@@@.@@@@@@.@@@..@@@@...@@.@@.@...@.@@@..@....@.@..@@@.@@.@@..@@@..@.@@.@@..@.@...@@@..@.@@@@@@..@.@@@@@..@@@@@@@@@...@@@@@@@@@@@.@@
      |...@@.@.@@.@@..@@@.@@.@.@.@@.@.@..@.@..@@.@@@@@@@@..@@@@.@@@..@@@@.@@@.@.@@@@@@@@@.@@@.....@@@@@@.@@.@@.@@@@@@.@.@@@.@.@@..@@.@@@@@..@@@@@@
      |@@.@@@.@..@@@@@@...@.@..@@@.@.@@@@@@@@@@...@...@.@@@.@@@@@@.@@@@@@@@@..@@@@@@....@@@.@.@.@@.@@@..@@...@.@@@@.@@.@.@@@.@.@@.@@@@.@@@.@.@@@.@
      |@@@@@@@@.@@@.@@..@@@@@..@@.@@.@@..@.@@..@.@@.@@@.@@@@@@@..@@.@.@.@@@@@@@..@..@@@@@@.@....@..@.@@..@.@.@@..@@@@@@.@@@.@..@.@@@@.@...@@@@.@@@
      |@@.@@@@.@@@@@.@.@@.@.@@@.@.@..@.@..@@@@..@.@@@..@@.@.@@.@@.@@@@.@@@..@@..@@@@@.@.@@....@.@@@@@@@.@@.@@.@..@@@.@@.@@@@@@@@@@@@@..@@.@@@@@@@@
      |.@@..@.@@@@.@@.@@@.@..@.@@@@.@@@@..@.@....@@..@.@@@..@.@@.@.@@.@@.@@@@@..@@...@@@@@@@@.@@@@@@..@@.@@@...@.@@.@@@@.@@..@.@@.@@.@.@@.@@..@@.@
      |.@@@@.@@..@....@@@..@@.@@@@@@@.@..@@@@@@@.@.@@....@@.@@@.@@...@..@@.@.@.@@.@@@.@@@@@@@@@@@......@..@..@@@@.@@.@.@@@@@@@@@@@@@.@.@@..@@@..@.""".stripMargin
